<nb-chat *ngIf="(chatRoom$ | async) as chatRoom" [title]="chatRoom.name" scrollBottom="true" size="giant">
  <nb-chat-message
    *ngFor="let msg of messages"
    [type]="msg!.type!"
    [message]="msg!.text!"
    [sender]="msg!.user!.name!"
    [date]="msg!.date!"
    [files]="msg!.files ? msg!.files! : []"
    [avatar]="msg!.user!.avatar!"
  >
  </nb-chat-message>
  <nb-chat-form (send)="sendMessage($event)" [dropFiles]="true"></nb-chat-form>
</nb-chat>
